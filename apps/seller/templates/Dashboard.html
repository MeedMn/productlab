{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% load static %}

{% block content %}
<style>
    .table thead {
  background-color: #111111;
  color: white;
}
.dataTables_filter label{
text-align: start;
}
.pagination{
    justify-content: end;
}
</style>
<div class="container">
    <h3>Dashboard</h3>
    {% if products %}
    <table class="table table-striped table-bordered" id="my-table">
      <thead>
        <tr>
          <th>Image</th>
          <th>Code_Ref</th>
          <th>Title</th>
          <th>Price</th>
          <th>Category</th>
          <th>Qte</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {% for product in products %}
        <tr style="height: 50px;">
          <td><img src="{{ product.get_Thumbnail }}" alt="Product Name" class="img-fluid" style="max-width: 70%;"></td>
          <td>{{product.code_ref}}</td>
          <td>{{product.title}}</td>
          <td>{{product.price}}</td>
          <td>{{product.category.title}}</td>
          <td>{{product.qte}}</td>
          <td></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <h5 class="text-center mt-5 mb-5">You don't have any artworks...</h5>
    {% endif %}
</div>

{% endblock %}

{% block scripts %}
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap4.min.js"></script>
<script>
  $(document).ready(function() {
    $('#my-table').DataTable({
      "pagingType": "full_numbers",
      "lengthMenu": [[5, 10, 15, 20], [5, 10, 15, 20]],
      "pageLength": 5,
      "language": {
        "searchPlaceholder": "Search...",
        "paginate": {
          "previous": "<",
          "next": ">"
        }
      },
      "dom": '<"row"<"col-sm-6"l><"col-sm-6 text-right"f>>' +
      '<"row"<"col-sm-12"tr>>' +
      '<"row"<"col-sm-5"i><"col-sm-7"p>>'
    });
    $('#page-length').on('change', function() {
      $('#my-table').DataTable().page.len($(this).val()).draw();
    });
    $('#search-input').on('keyup', function() {
      $('#my-table').DataTable().search($(this).val()).draw();
    });
  });
</script>
{% endblock %}